# Quickstart: 必要食材個数計算機

**Purpose**: 実装完了後の動作確認手順
**Feature**: [spec.md](./spec.md)

## Prerequisites

- Node.js 20+
- bun インストール済み

## Setup

```bash
# 依存関係インストール
bun install

# 開発サーバー起動
bun run dev
```

## Verification Steps

### Step 1: 計算機ページにアクセス

1. ブラウザで http://localhost:3030/calculator を開く
2. 計算機UIが表示されることを確認

### Step 2: レシピ選択と計算 (User Story 1)

1. レシピ選択UIから「マメバーグカレー」を選択
2. 数量を「3」に設定
3. 以下が表示されることを確認:
   - 選択レシピ: マメバーグカレー × 3
   - 必要食材: マメミート 21個
   - 総食材数: 21個

### Step 3: 複数レシピ追加 (User Story 2)

1. さらに「ベイビィハニーカレー」を追加し数量「2」を設定
2. 以下が表示されることを確認:
   - 選択レシピ: マメバーグカレー × 3, ベイビィハニーカレー × 2
   - 必要食材: マメミート 21個, あまいミツ 14個
   - 総食材数: 35個

### Step 4: レシピ検索 (User Story 3)

1. 検索ボックスに「サラダ」と入力
2. 名前に「サラダ」を含むレシピのみが選択候補に表示されることを確認
3. 検索をクリアするとすべてのレシピが表示されることを確認

### Step 5: リセット (User Story 4)

1. リセットボタンをクリック
2. すべての選択がクリアされ、食材合計が0になることを確認

### Step 6: エッジケース確認

1. 数量に「0」を入力しようとする → 1に戻る or 入力不可
2. 数量に「100」を入力しようとする → 99に制限される
3. 「ごちゃまぜカレー」（食材数0）を選択 → 正常に追加され、食材合計に影響しない

## Expected Results

| 操作 | 期待結果 |
|-----|---------|
| ページアクセス | 計算機UIが表示される |
| レシピ選択 | 選択レシピ一覧に追加される |
| 数量変更 | 即座に食材合計が更新される |
| レシピ削除 | 選択一覧から削除され、食材合計が更新される |
| 検索入力 | レシピがフィルタリングされる |
| リセット | すべての選択がクリアされる |

## Troubleshooting

### 計算機ページが404になる

- `apps/web/src/app/calculator/page.tsx` が存在するか確認
- 開発サーバーを再起動

### レシピが表示されない

- `apps/web/src/content/recipes/recipes.json` が存在するか確認
- コンソールでエラーを確認

### 食材合計が正しくない

- `apps/web/src/lib/utils/calculator.ts` の計算ロジックを確認
- レシピデータの `ingredients` 配列を確認
