# Feature Specification: せいかく一覧ページ

**Feature Branch**: `030-add-character-traits-table`
**Created**: 2026-02-09
**Status**: Draft
**Input**: User description: "せいかく情報を追加。ナビゲーションの基本データセクションに追加。せいかく一覧ページでは２つのセクションからなる。"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - せいかく早見表の閲覧 (Priority: P1)

ユーザーが「基本データ」セクションのナビゲーションから「せいかく」ページにアクセスし、5×5のマトリクス表でせいかくと対応するパラメータの上昇・下降の組み合わせを一目で確認できる。

行ヘッダーには上昇するパラメータ（おてつだいスピード、食材お手伝い確率、メインスキル発動確率、EXP獲得量、げんき回復量）、列ヘッダーには下降するパラメータ（同5種）が並び、交差するセルにそのせいかく名が表示される。対角線のセル（上昇と下降が同じパラメータ）には補正なしのせいかくが入る。

**Why this priority**: せいかくの影響を素早く把握できるマトリクス表はこのページの中心機能であり、最も多くのユーザーが必要とする情報。

**Independent Test**: ナビゲーションから「せいかく」をクリックし、25個すべてのせいかくがマトリクス表内に正しく配置されていることを目視確認できる。

**Acceptance Scenarios**:

1. **Given** ユーザーがサイドバーの「基本データ」セクションを表示している, **When** 「せいかく」リンクをクリックする, **Then** せいかく一覧ページ（/natures）に遷移し、マトリクス表が表示される
2. **Given** せいかく一覧ページを表示している, **When** マトリクス表を確認する, **Then** 行ヘッダーに5つの上昇パラメータ名、列ヘッダーに5つの下降パラメータ名が表示され、各セルに対応するせいかく名が表示されている
3. **Given** せいかく一覧ページを表示している, **When** 対角線上のセル（上昇と下降が同じパラメータ）を確認する, **Then** 補正なし（無補正）のせいかく名が表示されている
4. **Given** モバイル端末でせいかく一覧ページを表示している, **When** マトリクス表を確認する, **Then** 横スクロールにより表全体を閲覧できる

---

### User Story 2 - パラメータ補正の詳細仕様の確認 (Priority: P2)

ユーザーがマトリクス表の下にあるセクションで、各パラメータの上昇・下降が具体的にどのような効果をもたらすかを確認できる。

例：
- おてつだいスピード上昇 → おてつだい時間が約2%短縮
- おてつだいスピード下降 → おてつだい時間が約2%延長
- 食材お手伝い確率上昇 → 食材を見つける確率が約18%上昇
- 食材お手伝い確率下降 → 食材を見つける確率が約18%下降
- メインスキル発動確率上昇 → メインスキルの発動確率が約18%上昇
- メインスキル発動確率下降 → メインスキルの発動確率が約18%下降
- EXP獲得量上昇 → 獲得EXPが約18%増加
- EXP獲得量下降 → 獲得EXPが約18%減少
- げんき回復量上昇 → げんき回復量が約18%増加
- げんき回復量下降 → げんき回復量が約18%減少

**Why this priority**: 表を見てせいかくが分かった後に、具体的にどれくらいの補正がかかるかを知ることが次に重要な情報。

**Independent Test**: パラメータ補正セクションを確認し、5つのパラメータそれぞれについて上昇・下降の具体的な効果が記載されていることを確認できる。

**Acceptance Scenarios**:

1. **Given** せいかく一覧ページを表示している, **When** マトリクス表の下のセクションを確認する, **Then** 5つのパラメータそれぞれについて上昇時と下降時の具体的な補正値（パーセンテージ等）が表示されている
2. **Given** せいかく一覧ページを表示している, **When** 補正値セクションを確認する, **Then** 各パラメータの上昇効果と下降効果が明確に区別して表示されている

---

### Edge Cases

- モバイル端末で5×5のマトリクス表が画面幅に収まらない場合、横スクロールで対応する
- 対角線上の5つのせいかく（無補正）が他のセルと視覚的に区別できるようにする

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは「基本データ」セクションのナビゲーションに「せいかく」リンクを表示しなければならない（パス: /natures）
- **FR-002**: システムはせいかく一覧ページに5×5のマトリクス表を表示しなければならない。行ヘッダーは上昇パラメータ、列ヘッダーは下降パラメータ、セルにせいかく名を表示する
- **FR-003**: マトリクス表は25個すべてのせいかく（上昇・下降の組み合わせ20個 + 無補正5個）を含まなければならない
- **FR-004**: システムはマトリクス表の下に、各パラメータの上昇・下降による具体的な補正効果をセクションとして表示しなければならない
- **FR-005**: マトリクス表はモバイル端末で横スクロール可能でなければならない
- **FR-006**: せいかく一覧ページは既存のページと一貫したレイアウト（コンテナ、パンくずリスト、見出し）を使用しなければならない

### Key Entities

- **せいかく (Nature)**: ポケモンのせいかく。name（名前）、increasedStat（上昇パラメータ）、decreasedStat（下降パラメータ）の3属性を持つ。上昇と下降が同じ場合は無補正せいかく
- **パラメータ (Stat)**: せいかくによって影響を受ける5つのパラメータ。それぞれに上昇時の効果と下降時の効果がある

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ユーザーがナビゲーションから2クリック以内でせいかく一覧ページにアクセスできる
- **SC-002**: 25個すべてのせいかくがマトリクス表内に正しく配置されている
- **SC-003**: 5つのパラメータすべてについて上昇・下降の具体的な補正値が表示されている
- **SC-004**: モバイル端末（幅375px以上）でマトリクス表が横スクロールで閲覧できる

## Assumptions

- ポケモンスリープのせいかくは全25種（5パラメータ × 5パラメータ）で構成される
- 5つのパラメータは：おてつだいスピード、食材お手伝い確率、メインスキル発動確率、EXP獲得量、げんき回復量
- おてつだいスピードの補正値は約2%、その他4パラメータの補正値は約18%（ゲーム内の既知仕様に基づく）
- せいかくデータは静的データとしてJSONファイルで管理する（既存パターンに準拠）
- ページはサーバーコンポーネントとして実装する（既存パターンに準拠）
