# Feature Specification: サイドバーナビゲーション

**Feature Branch**: `003-sidebar-navigation`
**Created**: 2026-01-25
**Status**: Draft
**Input**: User description: "サイドバーを追加し、どこからでも他のコンテンツへ遷移できるようにする"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - サイドバーからコンテンツへ遷移する (Priority: P1)

ユーザーはサイト内のどのページにいても、サイドバーを使って他のコンテンツセクション（ポケモン一覧、料理レシピ、島情報、攻略戦略、チーム編成、ゲームメカニクス）へ素早く移動できる。

**Why this priority**: サイト全体のナビゲーション改善が本機能の主目的であり、これがないと機能の価値がない

**Independent Test**: サイドバーのリンクをクリックして各ページへ遷移できることを確認し、どのページからでもナビゲーションが機能することを検証

**Acceptance Scenarios**:

1. **Given** ユーザーが任意のページにいる, **When** サイドバーの「ポケモン」リンクをクリック, **Then** ポケモン一覧ページに遷移する
2. **Given** ユーザーが任意のページにいる, **When** サイドバーの「料理レシピ」リンクをクリック, **Then** 料理レシピ一覧ページに遷移する
3. **Given** ユーザーが任意のページにいる, **When** サイドバーの「島情報」リンクをクリック, **Then** 島情報ページに遷移する
4. **Given** ユーザーが任意のページにいる, **When** サイドバーの「攻略戦略」リンクをクリック, **Then** 攻略戦略ページに遷移する
5. **Given** ユーザーが任意のページにいる, **When** サイドバーの「チーム編成」リンクをクリック, **Then** チーム編成ページに遷移する
6. **Given** ユーザーが任意のページにいる, **When** サイドバーの「メカニクス」リンクをクリック, **Then** ゲームメカニクスページに遷移する

---

### User Story 2 - 現在地の視覚的フィードバック (Priority: P2)

ユーザーは現在閲覧しているセクションがサイドバー上でハイライト表示され、サイト内のどこにいるかを視覚的に把握できる。

**Why this priority**: ユーザビリティ向上に貢献するが、ナビゲーション自体が機能しなければ意味がないため P2

**Independent Test**: 各ページに遷移したときに、対応するサイドバー項目がハイライトされていることを確認

**Acceptance Scenarios**:

1. **Given** ユーザーがポケモン一覧ページにいる, **When** サイドバーを見る, **Then** 「ポケモン」項目がアクティブ状態で表示される
2. **Given** ユーザーがポケモン詳細ページにいる, **When** サイドバーを見る, **Then** 「ポケモン」項目がアクティブ状態で表示される

---

### User Story 3 - モバイル対応サイドバー (Priority: P1)

モバイルデバイスのユーザーは、ハンバーガーメニューをタップしてサイドバーを開閉できる。デスクトップでは常時表示される。

**Why this priority**: モバイルユーザーへの対応は必須であり、レスポンシブ対応なしでは機能が不完全

**Independent Test**: モバイルビューでハンバーガーメニューをタップし、サイドバーが開閉することを確認

**Acceptance Scenarios**:

1. **Given** モバイルデバイスでページを表示, **When** ハンバーガーメニューをタップ, **Then** サイドバーがスライドインして表示される
2. **Given** モバイルでサイドバーが開いている, **When** 閉じるボタンまたはオーバーレイをタップ, **Then** サイドバーが閉じる
3. **Given** モバイルでサイドバーが開いている, **When** ナビリンクをタップ, **Then** 該当ページへ遷移しサイドバーが閉じる
4. **Given** デスクトップでページを表示, **When** ページを読み込む, **Then** サイドバーが常時表示される

---

### Edge Cases

- サイドバーリンク先のページが存在しない場合、適切なエラーページを表示する
- ページ遷移中にローディング状態を表示し、ユーザーにフィードバックを与える
- キーボードナビゲーション（Tab、Enter）でサイドバーを操作できる

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは全ページに共通のサイドバーナビゲーションを表示しなければならない
- **FR-002**: サイドバーは以下のセクションへのリンクを含まなければならない：ホーム、ポケモン、料理レシピ、島情報、攻略戦略、チーム編成、メカニクス
- **FR-003**: サイドバーは現在閲覧中のセクションを視覚的に区別して表示しなければならない
- **FR-004**: モバイルデバイスでは、サイドバーは初期状態で非表示とし、ハンバーガーメニューで開閉できなければならない
- **FR-005**: デスクトップデバイスでは、サイドバーは常時表示されなければならない
- **FR-006**: サイドバーのリンクはキーボード操作（Tab、Enter）で利用できなければならない
- **FR-007**: モバイルでサイドバーが開いている状態でリンクをクリックした場合、遷移後にサイドバーを自動的に閉じなければならない

### Key Entities

- **NavigationItem**: サイドバーに表示される各ナビゲーション項目（ラベル、遷移先パス、アイコン）
- **NavigationSection**: 関連するナビゲーション項目をグループ化したセクション

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ユーザーはサイドバーから任意のセクションへ2クリック以内で遷移できる
- **SC-002**: サイドバーは全ページで一貫した位置と見た目で表示される
- **SC-003**: モバイルでのサイドバー開閉操作は0.3秒以内に完了する
- **SC-004**: キーボードのみでサイドバーの全機能を利用できる（アクセシビリティ）

## Assumptions

- ブレークポイントは768px未満をモバイル、768px以上をデスクトップとする
- サイドバーの幅はデスクトップで240px程度、モバイルでは画面の80%程度とする
- 既存のヘッダーナビゲーションは残し、サイドバーと併用する
