# Feature Specification: フィールド情報コンテンツ追加

**Feature Branch**: `029-add-field-info-content`
**Created**: 2026-02-06
**Status**: Draft
**Input**: User description: "フィールド情報にコンテンツを追加。フィールド名、とくいきのみ（ランダムの場合あり）、カビゴン評価ごとの必要エナジー、カビゴン評価ごとの出現ポケモンを表示してください"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - フィールド基本情報の閲覧 (Priority: P1)

ユーザーとして、島ガイドページでフィールドを選択し、そのフィールドの基本情報（フィールド名、とくいきのみ）を確認したい。どのフィールドでどのきのみが有利かを素早く把握できることで、チーム編成の参考にしたい。

**Why this priority**: フィールドの基本情報はすべての他の情報の土台であり、最も基本的かつ頻繁に参照される情報である。

**Independent Test**: 島ガイドページを開き、任意のフィールドを選択して、フィールド名ととくいきのみが正しく表示されることを確認する。とくいきのみがランダムのフィールドでは「ランダム」であることが明示される。

**Acceptance Scenarios**:

1. **Given** ユーザーが島ガイドページを開いている, **When** フィールド一覧からフィールドを選択する, **Then** そのフィールドのフィールド名ととくいきのみが表示される
2. **Given** とくいきのみが固定のフィールドを閲覧している, **When** とくいきのみの情報を確認する, **Then** 該当するきのみの名前が表示される
3. **Given** とくいきのみがランダムのフィールドを閲覧している, **When** とくいきのみの情報を確認する, **Then** 「ランダム」である旨が表示される

---

### User Story 2 - カビゴン評価ごとの必要エナジー確認 (Priority: P1)

ユーザーとして、フィールド情報ページでカビゴンの各評価ランクに到達するために必要なエナジー量を確認したい。目標の評価ランクに必要なエナジーを把握し、効率的なチーム編成やプレイ計画を立てたい。

**Why this priority**: 必要エナジーはゲームプレイの目標設定に直結する重要な情報であり、多くのユーザーが日常的に参照する。

**Independent Test**: フィールド情報ページで、カビゴン評価の一覧表が表示され、各評価ランクごとの必要エナジーが数値で確認できる。

**Acceptance Scenarios**:

1. **Given** フィールド情報ページを閲覧している, **When** カビゴン評価セクションを確認する, **Then** 全評価ランク（ノーマル〜マスター）の必要エナジーが一覧で表示される
2. **Given** 異なるフィールドの情報を閲覧している, **When** 必要エナジーを比較する, **Then** フィールドごとに異なる必要エナジー値が正しく表示される

---

### User Story 3 - カビゴン評価ごとの出現ポケモン確認 (Priority: P2)

ユーザーとして、フィールド情報ページでカビゴンの各評価ランクに到達した際に出現するポケモンを確認したい。目的のポケモンを仲間にするために、どの評価ランクを目指すべきかを判断したい。

**Why this priority**: 出現ポケモン情報はコレクション目的のユーザーにとって重要だが、基本情報・エナジー情報があって初めて意味を持つため、P2とする。

**Independent Test**: フィールド情報ページで、カビゴン評価ランクごとに出現するポケモンの一覧が表示され、特定のポケモンがどのランクから出現するか確認できる。

**Acceptance Scenarios**:

1. **Given** フィールド情報ページを閲覧している, **When** カビゴン評価ごとの出現ポケモンセクションを確認する, **Then** 各評価ランクに対応する出現ポケモンが一覧で表示される
2. **Given** 特定のポケモンを探している, **When** 出現ポケモン一覧を確認する, **Then** そのポケモンがどの評価ランクで出現するか特定できる

---

### Edge Cases

- フィールドデータがまだ登録されていない新規フィールドが追加された場合、適切なフォールバック表示がされること
- とくいきのみがランダムのフィールドでは「ランダム」とのみ表示されること
- 出現ポケモンが非常に多い評価ランクの場合でも、一覧が見やすく表示されること

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: システムは各フィールドの名前を表示しなければならない
- **FR-002**: システムは各フィールドのとくいきのみを表示しなければならない。とくいきのみが固定の場合はきのみ名を、ランダムの場合は「ランダム」と表示する
- **FR-003**: システムはカビゴン評価の全ランク（ノーマル、いいかんじ、すごいぞ、とてもすごい、ハイパー、マスター）ごとの必要エナジーをフィールド別に表示しなければならない
- **FR-004**: システムはカビゴン評価の各ランクごとに、そのランクで新規に出現するポケモンのみを差分表示しなければならない
- **FR-005**: システムは島ガイドページにフィールド一覧を表示し、各フィールドの個別詳細ページへ遷移できなければならない（一覧ページ + 詳細ページ構成）
- **FR-006**: 出現ポケモンの表示は、既存のポケモン詳細ページへのリンクを含まなければならない

### Key Entities

- **フィールド（島）**: ゲーム内のフィールドを表す。フィールド名、とくいきのみ（固定またはランダム）、カビゴン評価テーブルを持つ
- **とくいきのみ**: フィールドごとに設定されたボーナスきのみ。1種固定の場合とランダム（複数候補から毎週変動）の場合がある
- **カビゴン評価**: ノーマル〜マスターの6段階。各ランクに必要エナジーの閾値がフィールドごとに設定されている
- **出現ポケモン**: カビゴン評価ランクごとにフィールドで出現するポケモン。評価が高いほど出現するポケモンの種類が増える

## Clarifications

### Session 2026-02-07

- Q: 出現ポケモンの表示方法（累積 vs 新規のみ） → A: 各ランクで新規に出現するポケモンのみ表示（差分表示）
- Q: とくいきのみ「ランダム」の候補きのみ表示 → A: 「ランダム」とだけ表示し、候補きのみは非表示
- Q: ナビゲーションパターン → A: 一覧ページ + 各フィールドの個別詳細ページ（ページ遷移）
- Q: 対象フィールドの初期スコープ → A: ゲーム内の全フィールドを初回リリースで網羅する

## Assumptions

- カビゴン評価のランク名は「ノーマル」「いいかんじ」「すごいぞ」「とてもすごい」「ハイパー」「マスター」の6段階とする
- 初回リリースでゲーム内の全フィールドを網羅する。将来のフィールド追加にも対応できるデータ構造とする
- とくいきのみの「ランダム」とは、毎週月曜日にランダムで決まるきのみのことを指す
- 出現ポケモンデータはゲーム内の公開情報に基づくものとし、ユーザーコミュニティの検証データを含む場合がある
- フィールド情報は既存の島ガイドページ（現在プレースホルダー状態）を置き換える形で実装する

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: ユーザーが任意のフィールドの基本情報（名前・とくいきのみ）を3タップ以内で確認できる
- **SC-002**: ユーザーが目標の評価ランクに必要なエナジー量を5秒以内に特定できる
- **SC-003**: ユーザーが特定のポケモンの出現条件（フィールド＋評価ランク）を10秒以内に確認できる
- **SC-004**: 全フィールドの情報が正確にゲーム内データと一致する
